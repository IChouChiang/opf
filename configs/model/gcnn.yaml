# Configuration for GCNN model
# @package model

name: gcnn
feature_type: graph  # Used by data config via interpolation

# Model architecture (GCNN) - Matches exp_final_1000n.json (97%+ accuracy on Case 6)
architecture:
  in_channels: 8  # Must match feature_iterations in Case 6 data (k=8)
  hidden_channels: 8  # Output channels of GraphConv layers
  n_layers: 2  # Number of GraphConv layers
  fc_hidden_dim: 1000  # 1000 neurons for ~115K params (01 Final config)
  n_fc_layers: 1  # Number of FC layers before heads
  dropout: 0.0

# Task settings (OPFTask)
task:
  lr: ${train.lr}
  kappa: 0.1  # Physics loss weight
  weight_decay: 0.0  # Legacy uses 0
  # Learning rate scheduler (optional)
  lr_scheduler: null  # "plateau", "cosine", or null for none
  lr_scheduler_patience: 50  # For ReduceLROnPlateau
  lr_scheduler_factor: 0.5  # For ReduceLROnPlateau
  min_lr: 1.0e-6  # Minimum LR
